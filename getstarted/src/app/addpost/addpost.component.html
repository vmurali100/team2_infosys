<h1>Product Form</h1>
<!-- 
    "userId": 1,
    "id": 1,
    "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
    "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
 -->
<form #postForm="ngForm" class="form-section">
    <div class="title">
        <label for="userid">UserId</label>
        <input type="number" placeholder="User id" name="userid" id="userid" [(ngModel)]="post.userid" required>
        <div class="err" *ngIf="
                          postForm.controls['userid']?.invalid &&
                          (postForm.controls['userid']?.touched ||
                            postForm.controls['userid']?.dirty) && postForm.controls['userid']?.errors?.required
                        ">
            User Id is required
        </div>
    </div>
    <div class="title">
        <label for="title">Title</label>
        <input type="text" placeholder="Title" name="title" id="title" [(ngModel)]="post.title" required>
        <div class="err" *ngIf="
                          postForm.controls['title']?.invalid &&
                          (postForm.controls['title']?.touched ||
                            postForm.controls['title']?.dirty) && postForm.controls['title']?.errors?.required
                        ">
            Title is required
        </div>
    </div>
    <div class="body">
        <label for="body">Body</label>
        <input type="text" placeholder="body" name="body" id="body" [(ngModel)]="post.body" required>
        <div class="err" *ngIf="
                          postForm.controls['body']?.invalid &&
                          (postForm.controls['body']?.touched ||
                            postForm.controls['body']?.dirty) && postForm.controls['body']?.errors?.required
                        ">
            Body is required
        </div>
    </div>
    <button type="button" *ngIf="!isEdit" (click)="addProduct();postForm.reset()" [disabled]="!postForm.valid">
        Add Product
    </button>
    <button type="button" *ngIf="isEdit" (click)="updateProduct();postForm.reset()" [disabled]="!postForm.valid">
        Edit Product
    </button>
</form>

<hr />
<app-posts [newPosts]="postList" (deletePost)="deletePost($event)" (editPost)="editPost($event)">
</app-posts>